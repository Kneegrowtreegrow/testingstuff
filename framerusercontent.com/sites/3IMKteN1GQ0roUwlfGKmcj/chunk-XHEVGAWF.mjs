import{c as D,e as z,f as Z,g as W,i as q,j as G,k as J}from"./chunk-2ELOA5OQ.mjs";import{B as F,N as R,ca as t,fa as Y,i as B,ia as O,k as v,n as y,s as j,u as h,v as k,y as x}from"./chunk-PBDTBQES.mjs";import{f as H}from"./chunk-ENK4YSX5.mjs";H();var K;(function(e){e.Fill="fill",e.Contain="contain",e.Cover="cover",e.None="none",e.ScaleDown="scale-down"})(K||(K={}));var Q;(function(e){e.Video="Upload",e.Url="URL"})(Q||(Q={}));function de(e){let{width:a,height:i,topLeft:c,topRight:d,bottomRight:l,bottomLeft:s,id:u,children:m,...n}=e;return n}function I(e){let a=de(e);return x(ye,{...a})}function pe(e){let a=O(),i=h(!1),c=v(s=>{if(!e.current)return;let u=(s===1?.999:s)*e.current.duration,m=Math.abs(e.current.currentTime-u)<.1;e.current.duration>0&&!m&&(e.current.currentTime=u)},[]),d=v(()=>{!(e.current.currentTime>0&&e.current.onplaying&&!e.current.paused&&!e.current.ended&&e.current.readyState>e.current.HAVE_CURRENT_DATA)&&e.current&&!i.current&&a&&(i.current=!0,e.current.play().catch(u=>{}).finally(()=>i.current=!1))},[]),l=v(()=>{!e.current||i.current||e.current.pause()},[]);return{play:d,pause:l,setProgress:c}}function me({playingProp:e,muted:a,loop:i,playsinline:c,controls:d}){let[l]=k(()=>e),[s,u]=k(!1);e!==l&&!s&&u(!0);let m=l&&a&&i&&c&&!d&&!s,n;return m?n="on-viewport":l?n="on-mount":n="no-autoplay",n}var X=!1,ye=B(function(a){let{srcType:i,srcFile:c,srcUrl:d,playing:l,muted:s,playsinline:u,controls:m,progress:n,objectFit:ee,backgroundColor:te,onSeeked:P,onPause:C,onPlay:E,onEnd:w,onClick:M,onMouseEnter:ne,onMouseLeave:re,onMouseDown:oe,onMouseUp:ie,poster:se,posterEnabled:ae,startTime:A,volume:T,loop:U}=a,o=h(),le=W(),L=h(null),N=h(null),f=q(),ue=G(a),g=f?"no-autoplay":me({playingProp:l,muted:s,loop:U,playsinline:u,controls:m}),_=f?!0:R(o),p=A===100?99.9:A,{play:b,pause:S,setProgress:V}=pe(o);y(()=>{f||(l?b():S())},[l]),y(()=>{f||g==="on-viewport"&&(_?b():S())},[g,_]),y(()=>{if(!X){X=!0;return}let r=F(n)?n.get():(n??0)*.01;V((r??0)||(p??0)/100)},[p,c,d,n]),y(()=>{if(F(n))return n.on("change",r=>V(r))},[n]),z(()=>{L.current!==null&&o.current&&(!N&&U||!L.current)&&b()}),Z(()=>{o.current&&(N.current=o.current.ended,L.current=o.current.paused,S())});let ce=j(()=>{let r="";if(i==="URL")return d+r;if(i==="Upload")return c+r},[i,c,d,p]);return y(()=>{le&&o.current&&g==="on-mount"&&setTimeout(()=>b(),50)},[]),y(()=>{o.current&&!s&&(o.current.volume=(T??0)/100)},[T]),x("video",{onClick:M,onMouseEnter:ne,onMouseLeave:re,onMouseDown:oe,onMouseUp:ie,src:ce,loop:U,ref:o,onSeeked:r=>P?.(r),onPause:r=>C?.(r),onPlay:r=>E?.(r),onEnded:r=>w?.(r),autoPlay:g==="on-mount",poster:ae?se:void 0,onLoadedData:()=>{o.current&&(o.current.currentTime<.3&&V((p??0)*.01),g==="on-mount"&&b())},controls:m,muted:f?!0:s,playsInline:u,style:{cursor:M?"pointer":"auto",width:"100%",height:"100%",borderRadius:ue,display:"block",objectFit:ee,backgroundColor:te,objectPosition:"50% 50%"}})});I.displayName="Video";I.defaultProps={srcType:"URL",srcUrl:"https://assets.mixkit.co/videos/preview/mixkit-shining-sun-in-the-sky-surrounded-by-moving-clouds-31793-small.mp4",srcFile:"",posterEnabled:!1,controls:!1,playing:!0,loop:!0,muted:!0,playsinline:!0,restartOnEnter:!1,objectFit:"cover",backgroundColor:"rgba(0,0,0,0)",radius:0,volume:25,startTime:0};var fe=/[A-Z]{2,}|[A-Z][a-z]+|[a-z]+|[A-Z]|\d+/gu;function ge(e){return e.charAt(0).toUpperCase()+e.slice(1)}function be(e){return(e.match(fe)||[]).map(ge).join(" ")}var $=["cover","fill","contain","scale-down","none"];Y(I,{srcType:{type:t.Enum,displaySegmentedControl:!0,title:"Source",options:["URL","Upload"]},srcUrl:{type:t.String,title:"URL",placeholder:"../example.mp4",hidden(e){return e.srcType==="Upload"},description:"Hosted video file URL. For YouTube, use the YouTube component."},srcFile:{type:t.File,title:"File",allowedFileTypes:["mp4","webm"],hidden(e){return e.srcType==="URL"}},playing:{type:t.Boolean,title:"Playing",enabledTitle:"Yes",disabledTitle:"No"},posterEnabled:{type:t.Boolean,title:"Poster",enabledTitle:"Yes",disabledTitle:"No"},poster:{type:t.Image,title:" ",hidden:({posterEnabled:e})=>!e},backgroundColor:{type:t.Color,title:"Background"},...J,startTime:{title:"Start Time",type:t.Number,min:0,max:100,step:.1,unit:"%"},loop:{type:t.Boolean,title:"Loop",enabledTitle:"Yes",disabledTitle:"No"},objectFit:{type:t.Enum,title:"Fit",options:$,optionTitles:$.map(be)},controls:{type:t.Boolean,title:"Controls",enabledTitle:"Show",disabledTitle:"Hide"},muted:{type:t.Boolean,title:"Muted",enabledTitle:"Yes",disabledTitle:"No"},volume:{type:t.Number,max:100,min:0,unit:"%",hidden:({muted:e})=>e},onEnd:{type:t.EventHandler},onSeeked:{type:t.EventHandler},onPause:{type:t.EventHandler},onPlay:{type:t.EventHandler},...D});export{I as a};
//# sourceMappingURL=chunk-XHEVGAWF.mjs.map
